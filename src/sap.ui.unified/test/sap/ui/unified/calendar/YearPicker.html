<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>YearPicker - sap.ui.unified.calendar</title>
		<link rel="shortcut icon" type="image/x-icon" href="../images/controls/sap.ui.unified.calendar.YearPicker.gif">

		<script src="../shared-config.js"></script>
		<script id="sap-ui-bootstrap"
				data-sap-ui-async="true"
				data-sap-ui-compat-version="edge"
				data-sap-ui-libs="sap.m, sap.ui.unified"
				src="../../../../../resources/sap-ui-core.js"
		>
		</script>
		<script>
		sap.ui.getCore().attachInit(() => {
			jQuery.sap.require("sap.ui.core.date.UniversalDate");
			var UniversalDate = sap.ui.core.date.UniversalDate;
			var UI5Date = sap.ui.require("sap/ui/core/date/UI5Date");

			new sap.ui.unified.calendar.YearPicker("YP1",{
				select: function(oEvent){
					var oInput = sap.ui.getCore().byId("Input1");
					var oYP = oEvent.getSource();
					var oDate = new UniversalDate(oYP.getDate());
					oInput.setValue(oDate.getFullYear());
				}
			}).placeAt("sample1");

			new sap.m.Label({text: "selected Year", labelFor: "Input1"}).placeAt("event1");
			new sap.m.Input("Input1",{
				change: function(oEvent){
					var oInput = oEvent.getSource();
					var sValue = oEvent.getParameter('value');
					var oYP = sap.ui.getCore().byId("YP1");
					if (sValue && !isNaN(sValue)) {
						var iYear = parseInt(sValue);
//						var oDate = new UniversalDate(iYear, 0, 1);
//						if(iYear < 100) {
//							oDate.setFullYear(iYear);
//						}
						var oDate = new UniversalDate();
						oDate.setFullYear(iYear);
						oDate.setMonth(0);
						oDate.setDate(1);
						oYP.setDate(oDate.getJSDate());
					}
				}
			}).placeAt("event1");

			var oDate = UI5Date.getInstance(2015,0,1);
			new sap.ui.unified.calendar.YearPicker("YP2",{
				years: 5,
				columns: 0,
				date: oDate,
				select: function(oEvent){
					var oInput = sap.ui.getCore().byId("Input2");
					var oYP = oEvent.getSource();
					var oDate = new UniversalDate(oYP.getDate());
					oInput.setValue(oDate.getFullYear());
				}
			}).placeAt("sample2");

			new sap.m.Label({text: "selected Year", labelFor: "Input2"}).placeAt("event2");
			new sap.m.Input("Input2",{
				change: function(oEvent){
					var oInput = oEvent.getSource();
					var sValue = oEvent.getParameter('value');
					var oYP = sap.ui.getCore().byId("YP2");
					if (sValue && !isNaN(sValue)) {
						var iYear = parseInt(sValue);
//					var oDate = new UniversalDate(iYear, 0, 1);
//					if(iYear < 100) {
//						oDate.setFullYear(iYear);
//					}
						var oDate = new UniversalDate();
						oDate.setFullYear(iYear);
						oDate.setMonth(0);
						oDate.setDate(1);
						oYP.setDate(oDate.getJSDate());
					}
				}
			}).placeAt("event2");
		});
		</script>

	</head>
	<body class="sapUiBody">

		<h1>Test Page for <code>sap.ui.unified.calendar.YearPicker</code></h1>
		<br>
		<div>
		<h2>Default YearPicker</h2>
		<div id="sample1"></div>
		<div id="event1" style="display:inline-block; vertical-align: top;"></div>
		<h2>one line YearPicker</h2>
		<div id="sample2"></div>
		<div id="event2" style="display:inline-block; vertical-align: top;"></div>
		</div>

	</body>
</html>